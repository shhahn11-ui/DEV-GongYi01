<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>지역 공원 · 산책로 안내</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css">
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <div id="auth-gate" class="auth-gate">
    <div class="auth-gate-panel">
      <p class="eyebrow">접속 전 인증</p>
      <h2>로그인/회원가입 후 이용 가능합니다</h2>
      <p class="section-desc">회원가입 시 자주 걷는 동네(예: 서울 마포구, 부산 해운대구 등)를 입력해주세요.</p>
      <form class="trail-form auth-form-light" autocomplete="off">
        <div class="trail-form-row">
          <div class="trail-field">
            <label for="auth-email">이메일</label>
            <input id="auth-email" type="email" autocomplete="email" placeholder="you@example.com" required>
          </div>
          <div class="trail-field">
            <label for="auth-password">비밀번호</label>
            <input id="auth-password" type="password" autocomplete="current-password" placeholder="8자 이상" required>
          </div>
        </div>
        <div class="trail-field">
          <label for="auth-location">자주 걷는 동네</label>
          <input id="auth-location" type="text" placeholder="예: 서울 마포구, 대구 수성구" required>
        </div>
        <div class="trail-form-actions">
          <button type="button" class="btn primary" id="auth-login">로그인</button>
          <button type="button" class="btn ghost" id="auth-signup">회원가입</button>
          <button type="button" class="btn ghost" id="auth-logout">로그아웃</button>
          <p class="micro-copy" id="auth-status">로그인 후 코스를 업로드할 수 있습니다.</p>
        </div>
      </form>
    </div>
  </div>
  <header class="site-header">
    <div class="container nav-bar">
      <div class="brand">녹색 산책길 안내</div>
      <nav class="nav-links">
        <a href="#nearby">내 주변</a>
        <a href="#parks">공원</a>
        <a href="#trails">산책로</a>
        <a href="#checklist">준비물</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container hero-grid">
        <div class="hero-copy">
          <p class="eyebrow">지역과 이웃을 잇는 길</p>
          <h1>가까운 공원과 산책로를 한눈에</h1>
          <p class="lede">보행 시간, 난이도, 접근성 정보를 모아 누구나 편안하게 걸을 수 있는 길을 소개합니다. 주말 산책, 아이들과의 나들이, 반려동물과의 산책 모두 환영입니다.</p>
          <div class="hero-actions">
            <a class="btn primary" href="#parks">근처 공원 보기</a>
          </div>
        </div>
      </div>
    </section>

    <section id="nearby" class="section section-muted">
      <div class="container">
        <div class="section-head">
          <p class="eyebrow">위치 기반</p>
          <h2>내 주변 공원 바로 찾기</h2>
            <p class="section-desc">웹이 시작되면 브라우저 위치 권한을 요청해 내 주변(반경 2km) 공원을 자동 표시합니다. 거부해도 주소·장소 검색으로 확인할 수 있습니다.</p>
        </div>

        <div class="locator-grid">
          <div class="map-card">
            <div class="map-actions">
                <div class="map-controls">
                  <button type="button" id="locate-btn" class="btn primary">현재 위치로 보기</button>
                  <input id="address-input" type="text" placeholder="주소 · 아파트명 · 장소명 검색" aria-label="주소 검색">
                  <button type="button" id="address-search-btn" class="btn ghost">주소 검색</button>
                  <div class="range-row">
                    <label for="radius-slider">표시 반경</label>
                    <input id="radius-slider" type="range" min="500" max="4000" step="100" value="2000" aria-label="표시 반경 조절">
                    <span id="radius-value">2.0km</span>
                  </div>
                </div>
                <p class="micro-copy" id="locator-status">위치 허용 시 현재 위치 기준 반경 2km 공원을 자동 표시합니다. 거부 시 주소 검색을 사용하세요.</p>
            </div>
            <div id="park-map" aria-label="주변 공원 지도"></div>
          </div>

          <div class="nearby-list-card">
            <h3>주변 공원 목록</h3>
            <ul id="nearby-list" class="nearby-list"></ul>
            <p class="micro-copy" id="nearby-hint">최대 20개까지 표시합니다. 거리순 정렬.</p>
          </div>
        </div>
      </div>
    </section>

    <section id="parks" class="section">
      <div class="container">
        <div class="section-head">
          <p class="eyebrow">근처 추천 공원</p>
          <h2>바로 떠날 수 있는 장소</h2>
          <p class="section-desc" id="parks-hint">위치 허용 후 현재 위치(반경 2km) 공원을 거리순으로 보여줍니다.</p>
        </div>
        <div id="parks-list" class="card-grid"></div>
      </div>
    </section>

    <section id="trails" class="section section-muted">
      <div class="container">
        <div class="section-head">
          <p class="eyebrow">테마 산책로</p>
          <h2>취향에 맞는 코스를 고르세요</h2>
          <p class="section-desc" id="trails-hint">사용자가 직접 올린 산책/하이킹 코스를 보여줍니다. 업로드 후 14일이 지나면 자동으로 삭제됩니다.</p>
        </div>
        <div class="trail-upload">
          <form id="trail-form" class="trail-form" autocomplete="off">
            <div class="trail-form-row">
              <div class="trail-field">
                <label for="trail-name">코스 이름</label>
                <input id="trail-name" name="trail-name" type="text" placeholder="예: 강변 벚꽃길" required>
              </div>
              <div class="trail-field">
                <label for="trail-type">유형</label>
                <select id="trail-type" name="trail-type" required>
                  <option value="산책로">산책로</option>
                  <option value="하이킹">하이킹</option>
                  <option value="둘레길">둘레길</option>
                  <option value="숲길">숲길</option>
                </select>
              </div>
              <div class="trail-field">
                <label for="trail-distance">거리 (선택)</label>
                <input id="trail-distance" name="trail-distance" type="text" placeholder="예: 3.2km / 50분">
              </div>
            </div>
            <div class="trail-field">
              <label for="trail-notes">설명 (선택)</label>
              <textarea id="trail-notes" name="trail-notes" rows="2" placeholder="코스 특징, 시작/종점, 접근성 정보를 적어주세요."></textarea>
            </div>
            <div class="trail-form-actions">
              <button type="submit" class="btn primary">코스 업로드</button>
              <p class="micro-copy">업로드한 코스는 14일이 지나면 자동 삭제됩니다.</p>
            </div>
          </form>
        </div>
        <div id="trails-list" class="trail-grid"></div>
      </div>
    </section>

    <section id="checklist" class="section">
      <div class="container checklist">
        <div>
          <p class="eyebrow">출발 전 체크</p>
          <h2>걷기 좋은 하루를 위한 준비</h2>
          <p class="section-desc">기본 준비물과 안전 수칙을 확인하고 편안한 산책을 즐기세요.</p>
        </div>
        <div class="checklist-grid">
          <div class="check-card">
            <h3>필수 준비물</h3>
            <ul class="check-list">
              <li>물 한 병과 작은 간식</li>
              <li>편한 운동화와 얇은 겉옷</li>
              <li>모자 · 자외선 차단제</li>
              <li>휴대용 우비 또는 우산</li>
            </ul>
          </div>
          <div class="check-card">
            <h3>안전 · 에티켓</h3>
            <ul class="check-list">
              <li>보행로는 오른쪽 통행, 자전거 도로와 구분</li>
              <li>야간에는 밝은 색 옷과 라이트 사용</li>
              <li>반려동물 목줄·배변봉투 지참</li>
              <li>쓰레기와 음식물은 되가져가기</li>
            </ul>
          </div>
          <div class="check-card">
            <h3>무장애 정보</h3>
            <ul class="check-list">
              <li>경사도 5% 이하 구간 표시</li>
              <li>점자 안내 블록 설치 구간 안내</li>
              <li>무장애 화장실 위치 지도 링크 제공 예정</li>
              <li>보행 보조기기 대여소 연계 준비 중</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <section id="profile" class="section section-muted">
      <div class="container">
        <div class="section-head">
          <p class="eyebrow">내 프로필</p>
          <h2>로그인 상태와 위치 관리</h2>
          <p class="section-desc">프로필 위치는 저장만 됩니다. 지도는 브라우저의 실제 위치를 사용합니다.</p>
        </div>
        <div class="profile-card">
          <div class="profile-row">
            <div>
              <p class="label">이메일</p>
              <p id="profile-email" class="value">로그인 필요</p>
            </div>
            <div>
              <p class="label">저장된 위치</p>
              <p id="profile-location" class="value">-</p>
            </div>
          </div>
          <form id="profile-location-form" class="profile-form" autocomplete="off">
            <div class="trail-form-row">
              <div class="trail-field">
                <label for="profile-location-input">새 위치</label>
                <input id="profile-location-input" type="text" placeholder="예: 서울 마포구, 부산 해운대구" required>
              </div>
            </div>
            <div class="trail-form-actions">
              <button type="submit" class="btn primary" id="profile-update-btn">위치 변경 & 지도 갱신</button>
              <button type="button" class="btn ghost" id="profile-logout-btn">로그아웃</button>
              <p class="micro-copy" id="profile-status">로그인 후 위치를 관리할 수 있습니다.</p>
            </div>
          </form>
        </div>
      </div>
    </section>

  </main>

  <footer class="site-footer">
    <div class="container footer-grid">
      <div>
        <div class="brand">녹색 산책길 안내</div>
        <p class="footer-copy">지역 공원과 산책로를 더 안전하고 즐겁게 이용할 수 있도록 시민과 함께 정보를 채웁니다.</p>
      </div>
      <div class="footer-links">
        <span class="label">빠른 이동</span>
        <a href="#parks">공원</a>
        <a href="#trails">산책로</a>
      </div>
      <div class="footer-links">
        <span class="label">연락하기</span>
        <a href="mailto:walk@local-guide.example">walk@local-guide.example</a>
        <a href="https://www.facebook.com" target="_blank" rel="noreferrer">커뮤니티 채널</a>
      </div>
    </div>
  </footer>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="js/locator.js"></script>
  <script type="module" src="js/trails-firebase.js"></script>
</body>
</html>
